# NPR Axioms Implementation

## Frontmatter

```yaml
name: NPR Axioms Implementation
status: open
created: 2025-08-29T20:11:17Z
updated: 2025-08-30T00:45:00Z
github: https://github.com/AHartNtkn/npr-proof-assistant/issues/17
depends_on: [18]
parallel: true
conflicts_with: []
```

## Description

Implement the complete set of Neo-Peircean Relations axioms as rewrite rules for the proof engine. These axioms define the laws of cartesian and cocartesian bicategories, along with the linear structure that allows them to coexist and interact.

The axioms are not just arbitrary rules but encode deep categorical structure: comonoid laws for copying/discarding, monoid laws for merging/creating, Frobenius laws for their interaction, and linear distribution laws for how the two colors compose.

## Acceptance Criteria

- [ ] Cartesian bicategory axioms (white):
  - [ ] Comonoid associativity for copier
  - [ ] Comonoid commutativity for copier
  - [ ] Comonoid unit laws for copier/discard
  - [ ] Lax naturality for copier and discard
- [ ] Cocartesian bicategory axioms (black):
  - [ ] Monoid associativity for cocopier
  - [ ] Monoid commutativity for cocopier
  - [ ] Monoid unit laws for cocopier/codiscard
  - [ ] Lax naturality for cocopier and codiscard
- [ ] Frobenius laws:
  - [ ] General Frobenius (monoid-comonoid interaction)
  - [ ] Special Frobenius (cartesian constraint)
- [ ] Linear structure axioms:
  - [ ] Left linear distribution
  - [ ] Right linear distribution
  - [ ] Linear strengths for tensor products
  - [ ] Identity preservation laws
- [ ] Linear adjunction axioms:
  - [ ] Adjoint relationships between structures
  - [ ] Symmetry preservation
- [ ] Visual representations for each axiom
- [ ] Bidirectional application where appropriate
- [ ] Validation that axioms preserve diagram semantics

## Technical Details

### Axiom Structure
```typescript
interface NPRAxiom {
  name: string;
  category: 'cartesian' | 'cocartesian' | 'frobenius' | 'linear' | 'adjunction';
  color: 'white' | 'black' | 'mixed';
  pattern: {
    left: Diagram;   // LHS of equation
    right: Diagram;  // RHS of equation
  };
  bidirectional: boolean;
  description: string;
  tikzFile?: string;  // Reference to TikZ visualization
}
```

### Cartesian Axioms (White)
From `arXiv-2505.05306v2/tikz/axioms/cb/plus/`:
- Comonoid laws: How copier (Δ) and discard (!) interact
- Naturality: Boxes can slide past copiers/discards
- These make the category "cartesian" (products)

### Cocartesian Axioms (Black)
From `arXiv-2505.05306v2/tikz/axioms/cb/minus/`:
- Monoid laws: How cocopier (∇) and codiscard (?) interact
- Dual to cartesian axioms
- These make the category "cocartesian" (coproducts)

### Frobenius Laws
- Connect monoid and comonoid structures
- Special Frobenius: Additional constraint for cartesian bicategories
- Essential for the completeness of the axiomatization

### Linear Distribution
- White sequential composition distributes over black
- Allows the two structures to coexist coherently
- Key to encoding FOL's logical structure

### Implementation Approach
1. Parse TikZ files to extract axiom patterns
2. Convert to zigzag representation
3. Implement pattern matching for each axiom
4. Create visual previews for axiom palette
5. Ensure correctness through unit tests

## Dependencies

- Task #18: Proof Mode Engine (provides rewrite infrastructure)
- The NPR paper and TikZ files for axiom specifications
- No dependency on Formula Mode

## Effort Estimate

**Large (L)** - 32 hours

This is the most complex task requiring:
- Understanding the mathematical structure of NPR
- Implementing ~30+ axioms correctly
- Creating pattern matching for complex diagrams
- Ensuring soundness of the rewrite system
- Visual representation of each axiom

## Definition of Done

- All NPR axioms from the paper implemented
- Pattern matching works for each axiom
- Bidirectional application where mathematically valid
- Visual previews for each axiom in palette
- Unit tests verify axiom correctness
- Can perform complex proofs using axiom combinations
- Documentation links each axiom to its mathematical meaning
- Ready for users to prove theorems in NPR